<!--
Copyright 2021, Yahoo EdgeCast
Licensed under the terms of the MIT license. See the LICENSE file in the project root for license terms.
-->

<template>
    <c-spinner if.bind="isLoading"></c-spinner>
    <div
        if.bind="!isLoading"
        id.bind="id"
    >
        <c-timeline-week-container
            days.bind="displayDays"
            day-click.call="dayClick(date)"
            time-view.bind="timeView"
            if.bind="timeView !== 'month'"
        >
            <div slot="hours">
                <c-timeline-container>
                    <c-timeline-block
                        repeat.for="block of blocks"
                        time.one-time="block.time"
                    ></c-timeline-block>
                </c-timeline-container>
            </div>
            <c-timeline-container
                repeat.for="day of displayDays | visibleDays"
                current-time-top.bind="day.currentTimeLine"
                click.delegate="togglePopover($event, day)"
                loading.bind="day.isLoading"
            >
                <c-timeline-block repeat.for="block of day.blocks"></c-timeline-block>
                <div slot="entries">
                    <c-time-entry
                        repeat.for="entry of day.entries"
                        item.one-time="entry"
                        class="timeline-week"
                    ></c-time-entry>
                </div>
                <c-time-entry
                    item.bind="day.newItem"
                    view-model.ref="day.placeholderEntry"
                    if.bind="day.newItem"
                ></c-time-entry>
            </c-timeline-container>
        </c-timeline-week-container>
        <c-timeline-month-container if.bind="timeView === 'month'">
            <c-timeline-month-item
                day-date="30"
                active-month.bind="false"
            ></c-timeline-month-item>
            <c-timeline-month-item
                day-date="31"
                active-month.bind="false"
            ></c-timeline-month-item>
            <c-timeline-month-item
                day-date="01"
                today.bind="true"
            >
                <l-box-link
                    background="var(--c_soot)"
                    background-hover="var(--c_soot)"
                    border-top= "var(--c_secondaryMain)"
                    color="var(--c_smoke)"
                    href="#"
                    margin-ends="var(--s3)"
                    padding-sides="var(--s-3)"
                    padding-ends="var(--s-4)"
                >
                    23 items
                </l-box-link>
            </c-timeline-month-item>
            <c-timeline-month-item day-date="02"></c-timeline-month-item>
            <c-timeline-month-item day-date="03"></c-timeline-month-item>
            <c-timeline-month-item day-date="04"></c-timeline-month-item>
            <c-timeline-month-item day-date="05"></c-timeline-month-item>
            <c-timeline-month-item day-date="06">
                <l-box-link
                    background="var(--c_soot)"
                    background-hover="var(--c_soot)"
                    color="var(--c_smoke)"
                    href="#"
                    margin-ends="var(--s3)"
                    padding-sides="var(--s-3)"
                    padding-ends="var(--s-4)"
                >
                    23 items
                </l-box-link>
            </c-timeline-month-item>
            <c-timeline-month-item day-date="07"></c-timeline-month-item>
            <c-timeline-month-item day-date="08"></c-timeline-month-item>
            <c-timeline-month-item day-date="09"></c-timeline-month-item>
            <c-timeline-month-item day-date="10">
                <l-box-link
                    background="var(--c_soot)"
                    background-hover="var(--c_soot)"
                    color="var(--c_smoke)"
                    href="#"
                    margin-ends="var(--s3)"
                    padding-sides="var(--s-3)"
                    padding-ends="var(--s-4)"
                >
                    23 items
                </l-box-link>
            </c-timeline-month-item>
            <c-timeline-month-item day-date="11"></c-timeline-month-item>
            <c-timeline-month-item day-date="12"></c-timeline-month-item>
            <c-timeline-month-item day-date="13"></c-timeline-month-item>
            <c-timeline-month-item day-date="14"></c-timeline-month-item>
            <c-timeline-month-item day-date="15"></c-timeline-month-item>
            <c-timeline-month-item day-date="16"></c-timeline-month-item>
            <c-timeline-month-item day-date="17"></c-timeline-month-item>
            <c-timeline-month-item day-date="18"></c-timeline-month-item>
            <c-timeline-month-item day-date="19"></c-timeline-month-item>
            <c-timeline-month-item day-date="20"></c-timeline-month-item>
            <c-timeline-month-item day-date="21"></c-timeline-month-item>
            <c-timeline-month-item day-date="22"></c-timeline-month-item>
            <c-timeline-month-item day-date="23"></c-timeline-month-item>
            <c-timeline-month-item day-date="24"></c-timeline-month-item>
            <c-timeline-month-item day-date="25"></c-timeline-month-item>
            <c-timeline-month-item day-date="26"></c-timeline-month-item>
            <c-timeline-month-item day-date="27"></c-timeline-month-item>
            <c-timeline-month-item day-date="28"></c-timeline-month-item>
            <c-timeline-month-item day-date="29"></c-timeline-month-item>
            <c-timeline-month-item day-date="30"></c-timeline-month-item>
            <c-timeline-month-item day-date="31"></c-timeline-month-item>
            <c-timeline-month-item
                day-date="01"
                active-month.bind="false"
            ></c-timeline-month-item>
            <c-timeline-month-item
                day-date="02"
                active-month.bind="false"
            ></c-timeline-month-item>
        </c-timeline-month-container>
    </div>
</template>
