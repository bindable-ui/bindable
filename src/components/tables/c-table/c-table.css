/*
Copyright 2020, Verizon Media
Licensed under the terms of the MIT license. See the LICENSE file in the project root for license terms.
*/

/*------------------------------------*\
    CONTENTS
\*------------------------------------*/

/**
 *  THEMING
 *  BASE
 *      - Set Up
 *      - Header
 *  STRIPED
 *  ROW HOVER
 *  ROW ACTIVE
 *  NO VERTICAL BORDER
 *  CELL WIDTHS
 *  ROW STATUS
 *  FONTS
 *      - Mono
 *  TEXT INPUT
 *  DRAG
 *  TD BACKGROUND
 *  ALIGN RIGHT
 *  SORT
 *  RESPONSIVE
 */





/*------------------------------------*\
    !THEMING
\*------------------------------------*/

c-table,
c-table-fixed-header{
    --table-th-background: var(--c_soot);
    --table-th-color: var(--c_white);
    --table-th-font-family: inherit;
}

c-table{
    /* Base */
    --table-border: 1px solid var(--c_charcoal);
    --table-font-size: var(--s-1);
    --table-th-font-size: var(--table-font-size);
    --table-td-padding: calc(var(--s-1) - 2px) var(--s0);
    --table-td-border: --table-border;
    --table-td-border-top: --table-border;
    --table-td-border-right: --table-border;
    --table-td-border-bottom: --table-border;
    --table-td-border-left: --table-border;
    --table-td-color: var(--c_marshmellow);
    --table-th-padding: var(--table-td-padding);
    --table-striped-background: #3A3A3A;
    --table-hover-background: #444;
    --table-active-background: #5f5f5f;

    /* Row Bar */
    --table-row-bar-healthy: url('data:image/svg+xml;utf8,<svg width="5px" height="1px" viewBox="0 0 5 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect id="Rectangle-1" stroke="none" fill="\%2337A56C" width="5" height="1"></rect></svg>');
    --table-row-bar-info: url('data:image/svg+xml;utf8,<svg width="5px" height="1px" viewBox="0 0 5 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect id="Rectangle-1" stroke="none" fill="\%233599C5" width="5" height="1"></rect></svg>');
    --table-row-bar-warning: url('data:image/svg+xml;utf8,<svg width="5px" height="1px" viewBox="0 0 5 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect id="Rectangle-1" stroke="none" fill="\%23CEA832" width="5" height="1"></rect></svg>');
    --table-row-bar-critical: url('data:image/svg+xml;utf8,<svg width="5px" height="1px" viewBox="0 0 5 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect id="Rectangle-1" stroke="none" fill="\%23E85358" width="5" height="1"></rect></svg>');
    --table-row-bar-neutral: url('data:image/svg+xml;utf8,<svg width="5px" height="1px" viewBox="0 0 5 1" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect id="Rectangle-1" stroke="none" fill="\%239B9B9B" width="5" height="1"></rect></svg>');

    /* Text Input */
    --table-text-input-cell-padding: var(--s-4);
    --table-text-input-height: var(--s2);
    --table-text-input-padding: var(--s-5) var(--s-4);

    /* Drag */
    --table-drag-background-hover: var(--c_darkGray);
    --table-drag-height: var(--s4);
    --table-drag-padding-top: calc(var(--s-1) + 1px);
    --table-drag-padding-right: var(--s-2);
    --table-drag-padding-left: var(--s-3);
    --table-drag-check-height: calc(var(--s4) + 3%);
    --table-drag-check-padding-top: var(--s-2);

    /* Colored Cell */
    --table-background-healthy: var(--c_secondaryDark);
    --table-color-healthy: var(--c_secondaryLight);
    --table-background-warning: var(--c_subTwoDark);
    --table-color-warning: var(--c_subTwoLight);
    --table-background-critical: var(--c_primaryDark);
    --table-color-critical: var(--c_primaryLighter);
    --table-background-info: var(--c_subOneDark);
    --table-color-info: var(--c_subOneLight);
    --table-background-processing: url('../../../global-styles/assets/images/td-processing.gif');
    --table-color-processing: var(--table-td-color);

    /* Sort */
    --table-sort-padding-right: 15px;
    --table-sort-icon-position: right 0 top calc(var(--s-5) - 2px);
    --table-fixed-header-sort-icon-position: right 0 top calc(var(--s0) - 1px);
    --table-sort-icon-none: url('data:image/svg+xml;utf8,<svg width="7" height="13" xmlns="http://www.w3.org/2000/svg"><g fill="\%23FFFFFF" fill-rule="evenodd"><path d="M3.5 0L7 5H0zM0 8h7l-3.5 5z"/></g></svg>');
    --table-sort-icon-desc: url('data:image/svg+xml;utf8,<svg width="7" height="13" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="\%23FFF" d="M3.5 0L7 5H0z"/><path fill="\%23E85358" d="M0 8h7l-3.5 5z"/></g></svg>');
    --table-sort-icon-asc: url('data:image/svg+xml;utf8,<svg width="7" height="13" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="\%23E85358" d="M3.5 0L7 5H0z"/><path fill="\%23FFF" d="M0 8h7l-3.5 5z"/></g></svg>');

    /* Responsive */
    --table-mobile-label-color: var(--c_marshmellow);
    --table-mobile-label-font-family: var(--ff_primary-bold);
}

td compose{
    /* c-td-action */
    --table-action-color: var(--c_marshmellow);
    --table-action-color-hover: var(--c_white);
    --table-action-icon-color: var(--c_lightGray);
    --table-action-icon-color-hover: var(--c_white);

    /* c-td-truncate */
    --table-truncate-margin-right: var(--s-2);
    --table-truncate-height: var(--s0);

}





/*------------------------------------*\
    !BASE
\*------------------------------------*/

/**
 * ^Set Up
 */

.table{
    width: 100%;
    border-top: var(--table-border-top);
    border-right: var(--table-border-right);
    border-bottom: var(--table-border-bottom);
    border-left: var(--table-border-left);
    font-size: var(--table-font-size);
}

.table th{
    font-family: var(--table-th-font-family);
    font-size: var(--table-th-font-size);
}

.table th,
.table td{
    padding: var(--table-td-padding);
    border-top: var(--table-td-border-top);
    border-right: var(--table-td-border-right);
    border-bottom: var(--table-td-border-bottom);
    border-left: var(--table-td-border-left);
    color: var(--table-td-color);
    text-align: left;
    vertical-align: top;
}

.table td compose{
    display: block;
    line-height: 0;
}

.table td compose *{
    line-height: initial;
}

.table td compose c-drag-handle{
    line-height: 0;
}

.table td input[type='checkbox'],
.table th input[type='checkbox'],
.table td input[type='radio'],
.table th input[type='radio']{
    margin-top: 1px !important;
    margin-right: 0;
    margin-bottom: 0;
}


/**
 * ^Header
 */

.table thead th{
    padding: var(--table-th-padding);
    background-color: var(--table-th-background);
    color: var(--table-th-color);
}





/*------------------------------------*\
    !STRIPED
\*------------------------------------*/

.striped tbody tr:nth-of-type(odd){
    background-color: var(--table-striped-background);
}





/*------------------------------------*\
    !ROW HOVER
\*------------------------------------*/

.hover tbody tr{
    transition: background-color var(--trans_main);
}

.hover tbody tr:hover{
    background-color: var(--table-hover-background);
    cursor: pointer;
}





/*------------------------------------*\
    !ROW ACTIVE
\*------------------------------------*/

.active{
    background-color: var(--table-active-background) !important;
}





/*------------------------------------*\
    !NO VERTICAL BORDER
\*------------------------------------*/

.no-vertical-borders th,
.no-vertical-borders td{
    border-right: 0;
    border-left: 0;
}

.no-vertical-borders th:last-child,
.no-vert td:last-child{
    border-right: var(--table-td-border);
}

.no-vertical-borders th:first-child,
.no-vertical-bordres td:first-child{
    border-left: var(--table-td-border);
}





/*------------------------------------*\
    !CELL WIDTHS
\*------------------------------------*/

.t30{width: 30px;}
.t40{width: 40px;}
.t50{width: 50px;}
.t65{width: 65px;}
.t75{width: 75px;}
.t85{width: 85px;}
.t90{width: 90px;}
.t105{width: 105px;}
.t120{width: 120px;}
.t150{width: 150px;}
.t175{width: 175px;}
.t190{width: 190px;}
.t215{width: 215px;}
.t240{width: 240px;}
.t270{width: 270px;}
.t350{width: 350px;}
.t450{width: 450px;}
.t550{width: 550px;}





/*------------------------------------*\
    !ROW STATUS
\*------------------------------------*/

/**
 * ^Bar
*/

.healthy{
    background-image: var(--table-row-bar-healthy);
    background-repeat: repeat-y;
}

.info{
    background-image: var(--table-row-bar-info);
    background-repeat: repeat-y;
}

.warning{
    background-image: var(--table-row-bar-warning);
    background-repeat: repeat-y;
}

.critical,
.error{
    background-image: var(--table-row-bar-critical);
    background-repeat: repeat-y;
}

.neutral{
    background-image: var(--table-row-bar-neutral);
    background-repeat: repeat-y;
}





/*------------------------------------*\
    !FONTS
\*------------------------------------*/

/**
 * ^Mono
 */

.monospaced{
    font-family: var(--ff_mono);
}

th.monospaced{
    font-family: inherit;
}





/*------------------------------------*\
    !TEXT INPUT
\*------------------------------------*/

td.text-input{
    padding-top: var(--table-text-input-cell-padding) !important;
    padding-bottom: var(--table-text-input-cell-padding)!important;
}





/*------------------------------------*\
    !BUTTON
\*------------------------------------*/

td.button{
    padding-top: var(--s-4) !important;
    padding-bottom: var(--s-4)!important;
}





/*------------------------------------*\
    !DRAG
\*------------------------------------*/

.drag,
.drag-check c-drag-handle{
    position: relative;
}

.drag compose span,
.drag-check compose span{
    position: absolute;
    transition: background var(--trans_main), opacity var(--trans_main);
}

.drag compose span{
    top: 0px;
    left: 0px;
    line-height: 0;
    height: var(--table-drag-height);
    padding-top: var(--table-drag-padding-top);
    padding-right: var(--table-drag-padding-right);
    padding-left: var(--table-drag-padding-left);
}

.drag-check compose span{
    top: calc(-100% +2px);
    left: -16px;
    height: var(--table-drag-check-height);
    padding-top: var(--table-drag-check-padding-top);

    /* master */
    /* height: calc(var(--s4) + 3%); */
    /* padding-top: var(--s-2); */

    padding-right: 0;
    padding-left: 0;
}

.drag compose span:hover,
.drag-check compose span:hover{
    background: var(--table-drag-background-hover);
}

.drag input[type=checkbox],
.drag-check input[type=checkbox]{
    margin-left: 0;
}

.table tbody td c-drag-handle > span{
    opacity: 0;
}

.table tbody tr:hover td c-drag-handle > span{
    opacity: 1;
}





/*------------------------------------*\
    !TD BACKGROUND
\*------------------------------------*/

.bg-healthy td,
td.bg-healthy{
    background-color: var(--table-background-healthy) !important;
    color: var(--table-color-healthy) !important;
}

.bg-warning td,
td.bg-warning{
    background-color: var(--table-background-warning) !important;
    color: var(--table-color-warning) !important;
}

.bg-critical td,
td.bg-critical{
    background-color: var(--table-background-critical) !important;
    color: var(--table-color-critical) !important;
}

.bg-info td,
td.bg-info{
    background-color: var(--table-background-info) !important;
    color: var(--table-color-info) !important;
}

.bg-processing td,
td.bg-processing{
    background-image: var(--table-background-processing) !important;
    color: var(--table-color-processing) !important;
}





/*------------------------------------*\
    !ALIGN RIGHT
\*------------------------------------*/

.align-right{
    text-align: right !important;
}





/*------------------------------------*\
    !SORT
\*------------------------------------*/

.sort{
    padding-right: var(--table-sort-padding-right);
    background-repeat: no-repeat;
    background-position: var(--table-sort-icon-position);
    cursor: pointer;
}

c-table-fixed-header .sort{
    background-position: var(--table-fixed-header-sort-icon-position);
}

.sort-none{
    composes: sort;
    background-image: var(--table-sort-icon-none);
}

.sort-desc{
    composes: sort;
    background-image: var(--table-sort-icon-desc);
}

.sort-asc{
    composes: sort;
    background-image: var(--table-sort-icon-asc);
}





/*------------------------------------*\
    !RESPONSIVE
\*------------------------------------*/

@media only screen and (max-width: 780px){
    .responsive{
        border-right: 0;
        border-left: 0;
    }

    .responsive td::before{
        display: inline-block;
        margin-right: 15px;
        color: var(--table-mobile-label-color);
        font-family: var(--table-mobile-label-font-family);
        content: attr(data-th) ': ';
    }

    .responsive td{
        display: block;
        border-bottom: 0;
    }

    .responsive th{
        display: none;
    }

    .responsive td{
        margin-top: -1px;
    }

    .responsive th,
    .responsive td{
        text-align: left !important;
    }

    /* For Firefox only */
    .responsive colgroup{
        display: none;
    }
    /* End Firefox only */

    .responsive td > div.au-target{
        display: inline-block;
    }

    .responsive tr:first-child td:first-child{
        margin-top: 0;
    }

    /* Line Up Cell Titles and Cell Content On Mobile Responsive Tables */
    .responsive td{
        display: table;
        width: 100%;
    }

    .responsive td::before{
        display: table-cell;
        width: 110px;
        padding: 11px 15px;
        word-break: break-word;
    }

    .responsive td::after{
        display: block;
        height: 11px;
        content: '';
    }

    .responsive td .spinner-container{
        margin-top: 8px;
    }
}
