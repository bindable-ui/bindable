<!--
Copyright 2019, Verizon Media
Licensed under the terms of the MIT license. See the LICENSE file in the project root for license terms.
-->

<template>
	<require from="./c-text-input.css"></require>

    <c-icon if.bind="icon" icon="${icon}"></c-icon>
    <span class="${button ? styles.buttonInput : ''} ${clearable ? styles.container : ''}">
        <input
            if.bind="placeholder"
            keyup.delegate="onKeyUp($event) & debounce"
            type="${type}"
            class="${styles.input}  ${styles[iconPosition]}  ${state === 'error' ? styles.error : ''}  ${state === 'warning' ? styles.warning : ''}"
            placeholder.bind="placeholder"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
        >
        <input
            if.bind="!placeholder"
            keyup.delegate="onKeyUp($event) & debounce"
            type="${type}"
            class="${styles.input}  ${styles[iconPosition]}  ${state === 'error' ? styles.error : ''}  ${state === 'warning' ? styles.warning : ''}"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
        >
        <a class="${styles.clearable} ${button ? styles.clearButton : ''}" click.delegate="clearText()" if.bind="clearable && textValue">
            <c-icon icon="x"></c-icon>
        </a>
        <c-button
            if.bind="button"
            color="neutral"
            icon="${button}"
            icon-position="center"
            class="${styles.button} ${button === 'bin' ? styles.bin : ''}"
            click.delegate="buttonFn()">
        </c-button>
    </span>
</template>
