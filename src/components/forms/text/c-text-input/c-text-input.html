<!--
Copyright 2020, Verizon Media
Licensed under the terms of the MIT license. See the LICENSE file in the project root for license terms.
-->

<template>
	<require from="./c-text-input.css"></require>

    <c-icon
        if.bind="icon"
        icon="${icon}"
    ></c-icon>
    <span
        class="
            ${button || buttonText ? styles.buttonInput : ''}
            ${clearable ? styles.container : ''}
        "
    >
        <input
            class="
                ${styles.input}
                ${styles[iconPosition]}
                ${state === 'error' ? styles.error : ''}
                ${state === 'warning' ? styles.warning : ''}
            "
            keyup.delegate="onKeyUp($event) & debounce"
            type="${type}"
            placeholder.bind="placeholder"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
            if.bind="placeholder"
        >
        <input
            class="
                ${styles.input}
                ${styles[iconPosition]}
                ${state === 'error' ? styles.error : ''}
                ${state === 'warning' ? styles.warning : ''}
            "
            keyup.delegate="onKeyUp($event) & debounce"
            type="${type}"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
            if.bind="!placeholder"
        >
        <a
            class="
                ${styles.clearable}
                ${button ? styles.clearButton : ''}
            "
            click.delegate="clearText()"
            if.bind="clearable && textValue"
        >
            <c-icon icon="x"></c-icon>
        </a>
        <c-button
            class="
                ${styles.button}
                ${button === 'bin' ? styles.bin : ''}
            "
            color="neutral"
            icon="${button}"
            icon-position="center"
            click.delegate="buttonFn()"
            if.bind="button || buttonText"
        >
            ${buttonText}
        </c-button>
    </span>
</template>
