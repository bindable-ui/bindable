<!--
Copyright 2020, Verizon Media
Licensed under the terms of the MIT license. See the LICENSE file in the project root for license terms.
-->

<template>
    <require from="./c-text-input.css"></require>

    <l-icon
        icon="${icon}"
        spacing="0"
        if.bind="icon"
    ></l-icon>
    <span class="
            ${button || buttonText ? styles.buttonInput : ''}
            ${clearable ? styles.container : ''}
        ">
        <input
            class="
                ${styles.input}
                ${styles[iconPosition]}
                ${state === 'error' ? styles.error : ''}
                ${state === 'warning' ? styles.warning : ''}
                ${state === 'info' ? styles.info : ''}
            "
            keyup.delegate="onKeyUp($event) & debounce"
            type="${type}"
            placeholder.bind="placeholder"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
            readonly.bind="state === 'info' ? true : false"
            if.bind="placeholder"
        >
        <input
            class="
                ${styles.input}
                ${styles[iconPosition]}
                ${state === 'error' ? styles.error : ''}
                ${state === 'warning' ? styles.warning : ''}
                ${state === 'info' ? styles.info : ''}
            "
            keyup.delegate="onKeyUp($event) & debounce"
            type.bind="type"
            pattern.bind="pattern"
            value.bind="textValue"
            focus.bind="hasFocus"
            id="${id}"
            autocomplete="off"
            if.bind="!placeholder"
        >
        <a
            class="
                ${styles.clearable}
                ${button ? styles.clearButton : ''}
            "
            click.delegate="clearText()"
            if.bind="clearable && textValue"
        >
            <l-icon
                icon="x"
                spacing="0"
            ></l-icon>
        </a>
        <c-button
            class="
                ${styles.button}
                ${button === 'bin' ? styles.bin : ''}
            "
            color="${buttonColor}"
            icon-only.bind="true"
            icon="${button}"
            icon-size="1.25em"
            icon-align="-0.25em"
            click.delegate="buttonFn()"
            if.bind="button || buttonText"
        >
            ${buttonText}
        </c-button>
    </span>
</template>
